{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ukayko/Documents/zian_sideJobs/CervenTech/CervenOTManagement/pages/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ProfileHeader } from './components/ProfileHeader';\nimport { TimeTracker } from './components/TimeTracker';\nimport { CalendarView } from './components/CalendarView';\nimport { AIAnalyst } from './components/AIAnalyst';\nimport { UserProfile, WorkLog } from './types';\nimport { LogOut } from 'lucide-react';\n\n// Mock User Data\nconst MOCK_USER: UserProfile = {\n  id: 'u-123',\n  name: 'Alex Sterling',\n  email: 'alex.sterling@cerventech.com',\n  position: 'Senior Frontend Engineer',\n  avatarUrl: 'https://picsum.photos/200/200',\n  contactNumber: '+1 (555) 012-3456',\n  address: '452 Innovation Blvd, Tech District, SF',\n  department: 'Engineering'\n};\n\n// Helper to generate mock data for testing\nconst generateMockData = (): WorkLog[] => {\n  const logs: WorkLog[] = [];\n  const today = new Date();\n  const year = today.getFullYear();\n  const month = today.getMonth();\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\n\n  for (let day = 1; day <= daysInMonth; day++) {\n    // Skip some days to simulate weekends or leaves, but keep it populated\n    // 20% chance to skip a day\n    if (Math.random() < 0.2) continue;\n\n    const dateObj = new Date(year, month, day);\n    const isWeekend = dateObj.getDay() === 0 || dateObj.getDay() === 6;\n\n    // On weekends, only work 30% of the time\n    if (isWeekend && Math.random() > 0.3) continue;\n\n    // Sometimes multiple sessions per day (10% chance)\n    const sessions = Math.random() > 0.9 ? 2 : 1;\n\n    for (let s = 0; s < sessions; s++) {\n        // Random start time between 8 AM (8) and 6 PM (18)\n        const startHour = 8 + Math.floor(Math.random() * 10); \n        const startMinute = Math.floor(Math.random() * 60);\n        \n        // Random duration between 2 hours and 6 hours\n        const durationHours = 2 + Math.random() * 4;\n        const durationSeconds = Math.floor(durationHours * 3600);\n        \n        const startTime = new Date(year, month, day, startHour, startMinute).getTime();\n        const endTime = startTime + (durationSeconds * 1000);\n\n        // Don't generate future logs\n        if (startTime > Date.now()) continue;\n\n        logs.push({\n            id: `mock-${day}-${s}-${Math.random().toString(36).substr(2, 9)}`,\n            date: dateObj.toISOString().split('T')[0],\n            startTime: startTime,\n            endTime: endTime,\n            durationSeconds: durationSeconds,\n            status: 'COMPLETED'\n        });\n    }\n  }\n  return logs.sort((a, b) => a.startTime - b.startTime);\n};\n\nconst App: React.FC = () => {\n  const [user] = useState<UserProfile>(MOCK_USER);\n  const [workLogs, setWorkLogs] = useState<WorkLog[]>(() => {\n    try {\n      const saved = localStorage.getItem('cerventch_worklogs');\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        // If the array is empty or from a previous empty state, fill it with mock data\n        return parsed.length > 0 ? parsed : generateMockData();\n      }\n      return generateMockData();\n    } catch {\n      return generateMockData();\n    }\n  });\n\n  const [activeLog, setActiveLog] = useState<WorkLog | null>(() => {\n     try {\n       const saved = localStorage.getItem('cerventch_activelog');\n       return saved ? JSON.parse(saved) : null;\n     } catch {\n       return null;\n     }\n  });\n\n  // Persist logs\n  useEffect(() => {\n    localStorage.setItem('cerventch_worklogs', JSON.stringify(workLogs));\n  }, [workLogs]);\n\n  // Persist active session\n  useEffect(() => {\n    if (activeLog) {\n      localStorage.setItem('cerventch_activelog', JSON.stringify(activeLog));\n    } else {\n      localStorage.removeItem('cerventch_activelog');\n    }\n  }, [activeLog]);\n\n  const handleClockIn = () => {\n    const now = Date.now();\n    const todayStr = new Date(now).toISOString().split('T')[0];\n    \n    const newLog: WorkLog = {\n      id: crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substr(2, 9),\n      date: todayStr,\n      startTime: now,\n      endTime: null,\n      durationSeconds: 0,\n      status: 'IN_PROGRESS'\n    };\n    \n    setActiveLog(newLog);\n  };\n\n  const handleClockOut = (finalDurationSeconds: number) => {\n    if (!activeLog) return;\n    \n    const now = Date.now();\n    const completedLog: WorkLog = {\n      ...activeLog,\n      endTime: now,\n      durationSeconds: finalDurationSeconds,\n      status: 'COMPLETED'\n    };\n\n    setWorkLogs(prev => [...prev, completedLog]);\n    setActiveLog(null);\n  };\n\n  const handleLogout = () => {\n    // In a real app, this would handle auth logic\n    console.log(\"User logged out\");\n    alert(\"Logged out successfully\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0B1121] text-slate-200 pb-20\">\n      {/* Navbar */}\n      <nav className=\"sticky top-0 z-50 bg-[#0B1121]/80 backdrop-blur-md border-b border-slate-800\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-2\">\n              {/* Pyramid Logo */}\n              <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-600/20\">\n                <svg \n                  viewBox=\"0 0 24 24\" \n                  fill=\"none\" \n                  stroke=\"currentColor\" \n                  strokeWidth=\"2.5\" \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  className=\"w-5 h-5 text-white mb-0.5\"\n                >\n                   <path d=\"M2.5 18L12 2.5L21.5 18H2.5Z\" />\n                   <path d=\"M12 2.5V18\" />\n                   <path d=\"M7 18L12 10\" />\n                   <path d=\"M17 18L12 10\" />\n                </svg>\n              </div>\n              <span className=\"text-xl font-bold tracking-tight text-white\">\n                Cerventech<span className=\"text-blue-500\">.HR</span>\n              </span>\n            </div>\n            \n            <div className=\"flex items-center gap-4\">\n                <div className=\"hidden md:block text-sm text-slate-500 border-r border-slate-700 pr-4\">\n                Employee Portal v2.1\n                </div>\n                <button \n                    onClick={handleLogout}\n                    className=\"flex items-center gap-2 text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800 px-3 py-2 rounded-lg transition-colors\"\n                >\n                    <LogOut className=\"w-4 h-4\" />\n                    Log Out\n                </button>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8\">\n        \n        {/* Top Row: Profile & Tracker */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          <div className=\"lg:col-span-2\">\n            <ProfileHeader user={user} />\n          </div>\n          <div className=\"lg:col-span-1\">\n            <TimeTracker \n              onClockIn={handleClockIn} \n              onClockOut={handleClockOut} \n              activeLog={activeLog} \n            />\n          </div>\n        </div>\n\n        {/* Middle Row: AI & Quick Stats */}\n        <div className=\"grid grid-cols-1\">\n             <AIAnalyst logs={workLogs} />\n        </div>\n\n        {/* Bottom Row: Calendar History */}\n        <div>\n          <CalendarView logs={workLogs} />\n        </div>\n        \n      </main>\n    </div>\n  );\n};\n\nexport default App;"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;;;;;;;;AAMA;;;;;;;;AAEA,iBAAiB;AACjB,MAAM,YAAyB;IAC7B,IAAI;IACJ,MAAM;IACN,OAAO;IACP,UAAU;IACV,WAAW;IACX,eAAe;IACf,SAAS;IACT,YAAY;AACd;AAEA,2CAA2C;AAC3C,MAAM,mBAAmB;IACvB,MAAM,OAAkB,EAAE;IAC1B,MAAM,QAAQ,IAAI;IAClB,MAAM,OAAO,MAAM,WAAW;IAC9B,MAAM,QAAQ,MAAM,QAAQ;IAC5B,MAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,GAAG,GAAG,OAAO;IAExD,IAAK,IAAI,MAAM,GAAG,OAAO,aAAa,MAAO;QAC3C,uEAAuE;QACvE,2BAA2B;QAC3B,IAAI,KAAK,MAAM,KAAK,KAAK;QAEzB,MAAM,UAAU,IAAI,KAAK,MAAM,OAAO;QACtC,MAAM,YAAY,QAAQ,MAAM,OAAO,KAAK,QAAQ,MAAM,OAAO;QAEjE,yCAAyC;QACzC,IAAI,aAAa,KAAK,MAAM,KAAK,KAAK;QAEtC,mDAAmD;QACnD,MAAM,WAAW,KAAK,MAAM,KAAK,MAAM,IAAI;QAE3C,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,IAAK;YAC/B,mDAAmD;YACnD,MAAM,YAAY,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;YACjD,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;YAE/C,8CAA8C;YAC9C,MAAM,gBAAgB,IAAI,KAAK,MAAM,KAAK;YAC1C,MAAM,kBAAkB,KAAK,KAAK,CAAC,gBAAgB;YAEnD,MAAM,YAAY,IAAI,KAAK,MAAM,OAAO,KAAK,WAAW,aAAa,OAAO;YAC5E,MAAM,UAAU,YAAa,kBAAkB;YAE/C,6BAA6B;YAC7B,IAAI,YAAY,KAAK,GAAG,IAAI;YAE5B,KAAK,IAAI,CAAC;gBACN,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;gBACjE,MAAM,QAAQ,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBACzC,WAAW;gBACX,SAAS;gBACT,iBAAiB;gBACjB,QAAQ;YACZ;QACJ;IACF;IACA,OAAO,KAAK,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;AACtD;AAEA,MAAM,MAAgB;IACpB,MAAM,CAAC,KAAK,GAAG,IAAA,+GAAQ,EAAc;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAY;QAClD,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,+EAA+E;gBAC/E,OAAO,OAAO,MAAM,GAAG,IAAI,SAAS;YACtC;YACA,OAAO;QACT,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAiB;QACxD,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,OAAO,QAAQ,KAAK,KAAK,CAAC,SAAS;QACrC,EAAE,OAAM;YACN,OAAO;QACT;IACH;IAEA,eAAe;IACf,IAAA,gHAAS,EAAC;QACR,aAAa,OAAO,CAAC,sBAAsB,KAAK,SAAS,CAAC;IAC5D,GAAG;QAAC;KAAS;IAEb,yBAAyB;IACzB,IAAA,gHAAS,EAAC;QACR,IAAI,WAAW;YACb,aAAa,OAAO,CAAC,uBAAuB,KAAK,SAAS,CAAC;QAC7D,OAAO;YACL,aAAa,UAAU,CAAC;QAC1B;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,gBAAgB;QACpB,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,WAAW,IAAI,KAAK,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAE1D,MAAM,SAAkB;YACtB,IAAI,OAAO,UAAU,GAAG,OAAO,UAAU,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACnF,MAAM;YACN,WAAW;YACX,SAAS;YACT,iBAAiB;YACjB,QAAQ;QACV;QAEA,aAAa;IACf;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,WAAW;QAEhB,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,eAAwB;YAC5B,GAAG,SAAS;YACZ,SAAS;YACT,iBAAiB;YACjB,QAAQ;QACV;QAEA,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAa;QAC3C,aAAa;IACf;IAEA,MAAM,eAAe;QACnB,8CAA8C;QAC9C,QAAQ,GAAG,CAAC;QACZ,MAAM;IACR;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BAEb,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;;kDAEb,qKAAC;wCAAI,WAAU;kDACb,cAAA,qKAAC;4CACC,SAAQ;4CACR,MAAK;4CACL,QAAO;4CACP,aAAY;4CACZ,eAAc;4CACd,gBAAe;4CACf,WAAU;;8DAET,qKAAC;oDAAK,GAAE;;;;;;8DACR,qKAAC;oDAAK,GAAE;;;;;;8DACR,qKAAC;oDAAK,GAAE;;;;;;8DACR,qKAAC;oDAAK,GAAE;;;;;;;;;;;;;;;;;kDAGb,qKAAC;wCAAK,WAAU;;4CAA8C;0DAClD,qKAAC;gDAAK,WAAU;0DAAgB;;;;;;;;;;;;;;;;;;0CAI9C,qKAAC;gCAAI,WAAU;;kDACX,qKAAC;wCAAI,WAAU;kDAAwE;;;;;;kDAGvF,qKAAC;wCACG,SAAS;wCACT,WAAU;;0DAEV,qKAAC,6MAAM;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS5C,qKAAC;gBAAK,WAAU;;kCAGd,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;0CACb,cAAA,qKAAC;oCAAc,MAAM;;;;;;;;;;;0CAEvB,qKAAC;gCAAI,WAAU;0CACb,cAAA,qKAAC;oCACC,WAAW;oCACX,YAAY;oCACZ,WAAW;;;;;;;;;;;;;;;;;kCAMjB,qKAAC;wBAAI,WAAU;kCACV,cAAA,qKAAC;4BAAU,MAAM;;;;;;;;;;;kCAItB,qKAAC;kCACC,cAAA,qKAAC;4BAAa,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAM9B;uCAEe"}}]
}